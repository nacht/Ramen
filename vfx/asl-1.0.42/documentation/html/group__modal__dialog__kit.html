<!--
    Copyright 2005-2008 Adobe Systems Incorporated
    Distributed under the MIT License (see accompanying file LICENSE_1_0_0.txt
    or a copy at http://stlab.adobe.com/licenses.html)

    Some files are held under additional license.
    Please see "http://stlab.adobe.com/licenses.html" for more information.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
    <TITLE>Adobe Software Technology Lab: Modal Dialog Interface Kit</TITLE>
    <META HTTP-EQUIV="content-type" CONTENT="text/html;charset=ISO-8859-1"/>
    <LINK TYPE="text/css" REL="stylesheet" HREF="adobe_source.css"/>
    <LINK REL="alternate" TITLE="stlab.adobe.com RSS" HREF="http://sourceforge.net/export/rss2_projnews.php?group_id=132417&amp;rss_fulltext=1" TYPE="application/rss+xml"/>
    <script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>
</head>
<body>
<div id='content'>
<table><tr>
<td colspan='5'>
    <div id='opensource_banner'>
    <table style='width: 100%; padding: 5px;'><tr>
    <td align='left'>
        <a href='index.html' style='border: none'><img src='stlab2007.jpg' alt="stlab.adobe.com"/></a>
    </td>
    <td align='right'>
        <a href='http://www.adobe.com' style='border: none'><img src='adobe_hlogo.gif' alt="Adobe Systems Incorporated"/></a>
    </td>
    </tr></table>
    </div>
</td></tr><tr>
<td valign="top">
    <div id='navtable' height='100%'>
    <div style='margin: 5px'>
        <h4>Documentation</h4>

        <a href="group__asl__overview.html">Overview</a><br/>
        <a href="asl_readme.html">Building ASL</a><br/>
        <a href="asl_toc.html">Documentation</a><br/>
        <a href="http://stlab.adobe.com/wiki/index.php/Supplementary_ASL_Documentation">Library Wiki Docs</a><br/>
        <a href="asl_indices.html">Indices</a><br/>
        <a href="http://stlab.adobe.com/perforce/">Browse Perforce</a><br/>

        <h4>More Info</h4>

        <a href="asl_release_notes.html">Release Notes</a><br/>
        <a href="http://stlab.adobe.com/wiki/">Wiki</a><br/>
        <a href="asl_search.html">Site Search</a><br/>
        <a href="licenses.html">License</a><br/>
        <a href="success_stories.html">Success Stories</a><br/>
        <a href="asl_contributors.html">Contributors</a><br/>

        <h4>Media</h4>

        <a href="http://sourceforge.net/project/showfiles.php?group_id=132417&amp;package_id=145420">Download</a><br/>
        <a href="asl_download_perforce.html">Perforce Depots</a><br/>

        <h4>Support</h4>

        <a href="http://sourceforge.net/projects/adobe-source/">ASL SourceForge Home</a><br/>
        <a href="http://sourceforge.net/mail/?group_id=132417">Mailing Lists</a><br/>
        <a href="http://sourceforge.net/forum/?group_id=132417">Discussion Forums</a><br/>
        <a href="http://sourceforge.net/tracker/?atid=724218&amp;group_id=132417&amp;func=browse">Report Bugs</a><br/>
        <a href="http://sourceforge.net/tracker/?atid=724221&amp;group_id=132417&amp;func=browse">Suggest Features</a><br/>
        <a href="asl_contributing.html">Contribute to ASL</a><br/>

        <h4>RSS</h4>

        <a href="http://sourceforge.net/export/rss2_projnews.php?group_id=132417">Short-text news</a><br/>
        <a href="http://sourceforge.net/export/rss2_projnews.php?group_id=132417&amp;rss_fulltext=1">Full-text news</a><br/>
        <a href="http://sourceforge.net/export/rss2_projfiles.php?group_id=132417">File releases</a><br/>

        <h4>Other Adobe Projects</h4>

        <a href="adobe_apollo.html">Adobe Air</a><br/>
        <a href="http://stlab.adobe.com/gil/">Adobe GIL</a><br/>
        <a href="http://stlab.adobe.com/performance/">C++ Benchmarks</a><br/>
        <a href="http://labs.adobe.com">Adobe Labs</a><br/>
        <a href="http://stlab.adobe.com/amg/">Adobe Media Gallery</a><br/>
        <a href="http://www.adobe.com/products/xmp/">Adobe XMP</a><br/>
        <a href="http://www.mozilla.org/projects/tamarin">Tamarin project<br/>(Mozilla Foundation)</a><br/>

        <h4>Other Resources</h4>

        <a href="http://boost.org">Boost</a><br/>
        <a href="http://www.riaforge.com/">RIAForge</a><br/>
        <a href="http://www.sgi.com/tech/stl">SGI STL</a><br/>
    </div>
    </div>
</td>
<td id='maintable' width="100%" valign="top">

<!-- End Header -->
<!-- Generated by Doxygen 1.5.9 -->
<div class="contents">
<h1>Modal Dialog Interface Kit<br>
<small>
[<a class="el" href="group__apl__libraries.html">User-Supported (Platform) Libraries</a>]</small>
</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadobe_1_1dialog__result__t.html">dialog_result_t</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadobe_1_1modal__dialog__t.html">modal_dialog_t</a></td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef boost::function&lt; bool(name_t, <br class="typebreak">
const any_regular_t &amp;)&gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__modal__dialog__kit.html#ge1fd4f80c314c1118a7632952ec2bda5">action_callback_t</a></td></tr>

<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__modal__dialog__kit.html#g0995c603b7b3cd621680e3b6b2286561">display_options_t</a> { <a class="el" href="group__modal__dialog__kit.html#gg0995c603b7b3cd621680e3b6b2286561aad62d614045570b85429a06d4c9afd1">dialog_display_s</a>, 
<a class="el" href="group__modal__dialog__kit.html#gg0995c603b7b3cd621680e3b6b22865612304a9d1d063b9d2a389927000e87b84">dialog_no_display_s</a>, 
<a class="el" href="group__modal__dialog__kit.html#gg0995c603b7b3cd621680e3b6b2286561a3cbe4f09baa03f9dc53d4aee0946420">dialog_never_display_s</a>
 }</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">dialog_result_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__modal__dialog__kit.html#g89d9df2d057609c5f2ac8f26ee62e749">handle_dialog</a> (const dictionary_t &amp;input, const dictionary_t &amp;record, const dictionary_t &amp;display_state, display_options_t display_options, std::istream &amp;layout_definition, std::istream &amp;sheet_definition, action_callback_t callback, const boost::filesystem::path &amp;working_directory, platform_display_type parent=platform_display_type())</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The goal of the modal dialog interface kit is to provide a single point from which a user can have a dialog brought up and managed by the layout enging (Eve) and the property model manager (Adam). We also want to allow for easy "scripting" of the dialog through the interface, as well as being able to remember and reuse dialog-specific state information. There are several structs to support the one API through which interaction takes place. <hr><h2>Typedef Documentation</h2>
<a class="anchor" name="ge1fd4f80c314c1118a7632952ec2bda5"></a><!-- doxytag: member="adobe::action_callback_t" ref="ge1fd4f80c314c1118a7632952ec2bda5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef boost::function&lt;bool (name_t, const any_regular_t&amp;)&gt; action_callback_t          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The modal dialog interface now sports an API call back to the client in the case when a button is pushed. In the Eve definition of the dialog there must be an action parameter and a bind statement to notify the implementation what Adam cell is to be bound to this button. In the case when the button is clicked this callback is handed the action value and the Adam cell contents of the bound Adam cell. In return the callback should send back a bool specifying whether or not to close the dialog. If the callback returns true, the terminating_action_m field in the dialog return results will be this action name. 
<p>Definition at line <a class="el" href="modal__dialog__interface_8hpp_source.html#l00153">153</a> of file <a class="el" href="modal__dialog__interface_8hpp_source.html">modal_dialog_interface.hpp</a>.</p>

</div>
</div><p>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="g0995c603b7b3cd621680e3b6b2286561"></a><!-- doxytag: member="adobe::display_options_t" ref="g0995c603b7b3cd621680e3b6b2286561" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum display_options_t          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Display options control how the dialog is to be used during the playback of scripted command parameters. <dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="gg0995c603b7b3cd621680e3b6b2286561aad62d614045570b85429a06d4c9afd1"></a><!-- doxytag: member="dialog_display_s" ref="gg0995c603b7b3cd621680e3b6b2286561aad62d614045570b85429a06d4c9afd1" args="" -->dialog_display_s</em>&nbsp;</td><td>
Show the dialog to the user in any instance </td></tr>
<tr><td valign="top"><em><a class="anchor" name="gg0995c603b7b3cd621680e3b6b22865612304a9d1d063b9d2a389927000e87b84"></a><!-- doxytag: member="dialog_no_display_s" ref="gg0995c603b7b3cd621680e3b6b22865612304a9d1d063b9d2a389927000e87b84" args="" -->dialog_no_display_s</em>&nbsp;</td><td>
Do not show the dialog to the user unless the command parameters are invalid for the model as currently specified. This allows for the user to modify the parameters and verify them before moving them on to the command. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="gg0995c603b7b3cd621680e3b6b2286561a3cbe4f09baa03f9dc53d4aee0946420"></a><!-- doxytag: member="dialog_never_display_s" ref="gg0995c603b7b3cd621680e3b6b2286561a3cbe4f09baa03f9dc53d4aee0946420" args="" -->dialog_never_display_s</em>&nbsp;</td><td>
Do not show the user the dialog for any reason. In this instance when the parameter are invalid, error out of the playback. </td></tr>
</table>
</dl>

<p>Definition at line <a class="el" href="modal__dialog__interface_8hpp_source.html#l00054">54</a> of file <a class="el" href="modal__dialog__interface_8hpp_source.html">modal_dialog_interface.hpp</a>.</p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g89d9df2d057609c5f2ac8f26ee62e749"></a><!-- doxytag: member="adobe::handle_dialog" ref="g89d9df2d057609c5f2ac8f26ee62e749" args="(const dictionary_t &amp;input, const dictionary_t &amp;record, const dictionary_t &amp;display_state, display_options_t display_options, std::istream &amp;layout_definition, std::istream &amp;sheet_definition, action_callback_t callback, const boost::filesystem::path &amp;working_directory, platform_display_type parent=platform_display_type())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dialog_result_t adobe::handle_dialog           </td>
          <td>(</td>
          <td class="paramtype">const dictionary_t &amp;&nbsp;</td>
          <td class="paramname"> <em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const dictionary_t &amp;&nbsp;</td>
          <td class="paramname"> <em>record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const dictionary_t &amp;&nbsp;</td>
          <td class="paramname"> <em>display_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">display_options_t&nbsp;</td>
          <td class="paramname"> <em>display_options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::istream &amp;&nbsp;</td>
          <td class="paramname"> <em>layout_definition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::istream &amp;&nbsp;</td>
          <td class="paramname"> <em>sheet_definition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">action_callback_t&nbsp;</td>
          <td class="paramname"> <em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const boost::filesystem::path &amp;&nbsp;</td>
          <td class="paramname"> <em>working_directory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">platform_display_type&nbsp;</td>
          <td class="paramname"> <em>parent</em> = <code>platform_display_type()</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
One function call to display a model dialog (or playback a script). We might also want to consider a preview function call back (that will get called with the same command dictionary anytime something in the sheet changes).<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>input</em>&nbsp;</td><td>contains the input values for input cells as they are defined in the sheet. Each key in this dictionary should correspond to an input cell in the sheet to which the relevant value will be imposed. This can be a default-constructed dictionary, in which case input cells will be set to the values defined in their sheet initializers.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>record</em>&nbsp;</td><td>is the previously recorded script information for the dialog, to be used to execute the dialog when running from an action or to retain the previoud instance of the dialog's values for the new dialog instance.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>display_state</em>&nbsp;</td><td>is the previously recorded layout state information for the dialog.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>display_options</em>&nbsp;</td><td>is one of the three enumerations specified above, according to which semantic behavior you would like to get out of this routine.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>layout_definition</em>&nbsp;</td><td>is a stream that will be parsed as the Eve definition for this dialog.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sheet_definition</em>&nbsp;</td><td>is a stream that will be parsed as the Adam definition for this dialog. Note that the only requirement on the Adam sheet is that there exist an output cell called result that is defined to be a dictionary of values. The value of the result cell will be handed back in the command_m field of the <a class="el" href="structadobe_1_1dialog__result__t.html">dialog_result_t</a> upon return from this procedure.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>callback</em>&nbsp;</td><td>is the function proc that is called when a button in the modal dialog is invoked by the user. The two parameters to the callback are the action name of the button as defined in the Eve definition, along with the contents of the Adam cell to which the button is bound. The boolean return value specifies whether or not the modal dialog interface should terminate the dialog.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>working_directory</em>&nbsp;</td><td>is the directory from which the dialog widgets should use to fetch disk-based resources. Whether or not this is necessary is predicated on the resource requirements of the widgets used in the dialog.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>parent</em>&nbsp;</td><td>is the parent widget that will 'own' the dialog that is about to be created. This notion is purely a platform-specific one, and is not a requirement as far as ASL goes.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>a filled in <a class="el" href="structadobe_1_1dialog__result__t.html">dialog_result_t</a>. </dd></dl>

<p>Definition at line <a class="el" href="modal__dialog__interface_8hpp_source.html#l00255">255</a> of file <a class="el" href="modal__dialog__interface_8hpp_source.html">modal_dialog_interface.hpp</a>.</p>

</div>
</div><p>
</div>

<!-- Begin Footer -->
</td></tr>
</table>
</div> <!-- content -->
<div class='footerdiv'>
    <div id='footersub'>
        <ul>
            <li><a href="http://www.adobe.com/go/gftray_foot_aboutadobe">Company</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_privacy_security">Online Privacy Policy</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_terms">Terms of Use</a>&nbsp;|&nbsp;</li>
    
            <li><a href="http://www.adobe.com/go/gftray_foot_contact_adobe">Contact Us</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_accessibility">Accessibility</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_report_piracy">Report Piracy</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_permissions_trademarks">Permissions &amp; Trademarks</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_product_license_agreements">Product License Agreements</a>&nbsp;|&nbsp;</li>
    
            <li><a href="http://www.adobe.com/go/gftray_foot_feedback">Send Feedback</a></li>
        </ul>
        <div>
            <p>Copyright &#169; 2006-2007 Adobe Systems Incorporated.</p>
            <p>Use of this website signifies your agreement to the <a href="http://www.adobe.com/go/gftray_foot_terms">Terms of Use</a> and <a href="http://www.adobe.com/go/gftray_foot_privacy_security">Online Privacy Policy</a>.</p>
            <p>Search powered by <a href="http://www.google.com/" target="new">Google</a></p>
        </div>
	</div>
</div>
<script type="text/javascript">
_uacct = "UA-396569-1";
urchinTracker();
</script>
</body>
</html>
