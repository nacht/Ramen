<!--
    Copyright 2005-2008 Adobe Systems Incorporated
    Distributed under the MIT License (see accompanying file LICENSE_1_0_0.txt
    or a copy at http://stlab.adobe.com/licenses.html)

    Some files are held under additional license.
    Please see "http://stlab.adobe.com/licenses.html" for more information.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
    <TITLE>Adobe Software Technology Lab: set_difference</TITLE>
    <META HTTP-EQUIV="content-type" CONTENT="text/html;charset=ISO-8859-1"/>
    <LINK TYPE="text/css" REL="stylesheet" HREF="adobe_source.css"/>
    <LINK REL="alternate" TITLE="stlab.adobe.com RSS" HREF="http://sourceforge.net/export/rss2_projnews.php?group_id=132417&amp;rss_fulltext=1" TYPE="application/rss+xml"/>
    <script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>
</head>
<body>
<div id='content'>
<table><tr>
<td colspan='5'>
    <div id='opensource_banner'>
    <table style='width: 100%; padding: 5px;'><tr>
    <td align='left'>
        <a href='index.html' style='border: none'><img src='stlab2007.jpg' alt="stlab.adobe.com"/></a>
    </td>
    <td align='right'>
        <a href='http://www.adobe.com' style='border: none'><img src='adobe_hlogo.gif' alt="Adobe Systems Incorporated"/></a>
    </td>
    </tr></table>
    </div>
</td></tr><tr>
<td valign="top">
    <div id='navtable' height='100%'>
    <div style='margin: 5px'>
        <h4>Documentation</h4>

        <a href="group__asl__overview.html">Overview</a><br/>
        <a href="asl_readme.html">Building ASL</a><br/>
        <a href="asl_toc.html">Documentation</a><br/>
        <a href="http://stlab.adobe.com/wiki/index.php/Supplementary_ASL_Documentation">Library Wiki Docs</a><br/>
        <a href="asl_indices.html">Indices</a><br/>
        <a href="http://stlab.adobe.com/perforce/">Browse Perforce</a><br/>

        <h4>More Info</h4>

        <a href="asl_release_notes.html">Release Notes</a><br/>
        <a href="http://stlab.adobe.com/wiki/">Wiki</a><br/>
        <a href="asl_search.html">Site Search</a><br/>
        <a href="licenses.html">License</a><br/>
        <a href="success_stories.html">Success Stories</a><br/>
        <a href="asl_contributors.html">Contributors</a><br/>

        <h4>Media</h4>

        <a href="http://sourceforge.net/project/showfiles.php?group_id=132417&amp;package_id=145420">Download</a><br/>
        <a href="asl_download_perforce.html">Perforce Depots</a><br/>

        <h4>Support</h4>

        <a href="http://sourceforge.net/projects/adobe-source/">ASL SourceForge Home</a><br/>
        <a href="http://sourceforge.net/mail/?group_id=132417">Mailing Lists</a><br/>
        <a href="http://sourceforge.net/forum/?group_id=132417">Discussion Forums</a><br/>
        <a href="http://sourceforge.net/tracker/?atid=724218&amp;group_id=132417&amp;func=browse">Report Bugs</a><br/>
        <a href="http://sourceforge.net/tracker/?atid=724221&amp;group_id=132417&amp;func=browse">Suggest Features</a><br/>
        <a href="asl_contributing.html">Contribute to ASL</a><br/>

        <h4>RSS</h4>

        <a href="http://sourceforge.net/export/rss2_projnews.php?group_id=132417">Short-text news</a><br/>
        <a href="http://sourceforge.net/export/rss2_projnews.php?group_id=132417&amp;rss_fulltext=1">Full-text news</a><br/>
        <a href="http://sourceforge.net/export/rss2_projfiles.php?group_id=132417">File releases</a><br/>

        <h4>Other Adobe Projects</h4>

        <a href="adobe_apollo.html">Adobe Air</a><br/>
        <a href="http://stlab.adobe.com/gil/">Adobe GIL</a><br/>
        <a href="http://stlab.adobe.com/performance/">C++ Benchmarks</a><br/>
        <a href="http://labs.adobe.com">Adobe Labs</a><br/>
        <a href="http://stlab.adobe.com/amg/">Adobe Media Gallery</a><br/>
        <a href="http://www.adobe.com/products/xmp/">Adobe XMP</a><br/>
        <a href="http://www.mozilla.org/projects/tamarin">Tamarin project<br/>(Mozilla Foundation)</a><br/>

        <h4>Other Resources</h4>

        <a href="http://boost.org">Boost</a><br/>
        <a href="http://www.riaforge.com/">RIAForge</a><br/>
        <a href="http://www.sgi.com/tech/stl">SGI STL</a><br/>
    </div>
    </div>
</td>
<td id='maintable' width="100%" valign="top">

<!-- End Header -->
<!-- Generated by Doxygen 1.5.9 -->
<div class="contents">
<h1><a class="anchor" name="stldoc_set_difference">set_difference </a></h1><table cellpadding="0" cellspacing="0" width="100%" border="0">
<tr>
<td align="left"><div align="center">
<img src="algorithms.gif" alt="algorithms.gif">
</div>
 </td><td width="100%"></td><td align="right"><div align="center">
<img src="function.gif" alt="function.gif">
</div>
  </td></tr>
<tr>
<td align="left" valign="top"><b>Category</b>: algorithms </td><td width="100%"></td><td align="right" valign="top"><b>Component type</b>: function  </td></tr>
</table>
<h2><a class="anchor" name="Prototype">
Prototype</a></h2>
<code>Set_difference</code> is an overloaded name; there are actually two <code>set_difference</code> functions. <div class="fragment"><pre class="fragment"><span class="keyword">template</span> &lt;<span class="keyword">class</span> InputIterator1, <span class="keyword">class</span> InputIterator2, <span class="keyword">class</span> OutputIterator&gt;
OutputIterator <a class="code" href="group__set.html#g0851d1b8926c09e6f96cb10aac7cbdb4" title="set implementation">set_difference</a>(InputIterator1 first1, InputIterator1 last1,
                              InputIterator2 first2, InputIterator2 last2,
                              OutputIterator result);

<span class="keyword">template</span> &lt;<span class="keyword">class </span>InputIterator1, <span class="keyword">class </span>InputIterator2, <span class="keyword">class </span>OutputIterator, 
          <span class="keyword">class </span>StrictWeakOrdering&gt;
OutputIterator <a class="code" href="group__set.html#g0851d1b8926c09e6f96cb10aac7cbdb4" title="set implementation">set_difference</a>(InputIterator1 first1, InputIterator1 last1,
                              InputIterator2 first2, InputIterator2 last2, 
                              OutputIterator result, 
                              StrictWeakOrdering comp);
</pre></div> <h2><a class="anchor" name="Description">
Description</a></h2>
<code>Set_difference</code> constructs a sorted range that is the set difference of the sorted ranges <code>[first1, last1)</code> and <code>[first2, last2)</code>. The return value is the end of the output range. <p>
In the simplest case, <code>set_difference</code> performs the "difference" operation from set theory: the output range contains a copy of every element that is contained in <code>[first1, last1)</code> and not contained in <code>[first2, last2)</code>. The general case is more complicated, because the input ranges may contain duplicate elements. The generalization is that if a value appears <code>m</code> times in <code>[first1, last1)</code> and <code>n</code> times in <code>[first2, last2)</code> (where <code>m</code> or <code>n</code> may be zero), then it appears <code>max(m-n, 0)</code> times in the output range. <a href="#1">[1]</a> <code>Set_difference</code> is stable, meaning both that elements are copied from the first range rather than the second, and that the relative order of elements in the output range is the same as in the first input range. <p>
The two versions of <code>set_difference</code> differ in how they define whether one element is less than another. The first version compares objects using <code>operator&lt;</code>, and the second compares objects using a <a class="el" href="stldoc_functors.html">functors</a> <code>comp</code>. <h2><a class="anchor" name="Definition">
Definition</a></h2>
Defined in the standard header <a href="algorithm">algorithm</a>, and in the nonstandard backward-compatibility header <a href="algo.h">algo.h</a>. <h2><a class="anchor" name="Requirements_on_types">
Requirements on types</a></h2>
For the first version: <ul>
<li>
<code>InputIterator1</code> is a model of <a class="el" href="stldoc_InputIterator.html">InputIterator</a>. </li>
<li>
<code>InputIterator2</code> is a model of <a class="el" href="stldoc_InputIterator.html">InputIterator</a>. </li>
<li>
<code>OutputIterator</code> is a model of <a class="el" href="stldoc_OutputIterator.html">OutputIterator</a>. </li>
<li>
<code>InputIterator1</code> and <code>InputIterator2</code> have the same value type. </li>
<li>
<code>InputIterator</code>'s value type is a model of <a class="el" href="stldoc_LessThanComparable.html">LessThanComparable</a>. </li>
<li>
The ordering on objects of <code>InputIterator1</code>'s value type is a <em>strict weak ordering</em>, as defined in the <a class="el" href="stldoc_LessThanComparable.html">LessThanComparable</a> requirements. </li>
<li>
<code>InputIterator</code>'s value type is convertible to a type in <code>OutputIterator</code>'s set of value types. </li>
</ul>
For the second version: <ul>
<li>
<code>InputIterator1</code> is a model of <a class="el" href="stldoc_InputIterator.html">InputIterator</a>. </li>
<li>
<code>InputIterator2</code> is a model of <a class="el" href="stldoc_InputIterator.html">InputIterator</a>. </li>
<li>
<code>OutputIterator</code> is a model of <a class="el" href="stldoc_OutputIterator.html">OutputIterator</a>. </li>
<li>
<code>StrictWeakOrdering</code> is a model of <a class="el" href="stldoc_StrictWeakOrdering.html">StrictWeakOrdering</a>. </li>
<li>
<code>InputIterator1</code> and <code>InputIterator2</code> have the same value type. </li>
<li>
<code>InputIterator1</code>'s value type is convertible to <code>StrictWeakOrdering</code>'s argument type. </li>
<li>
<code>InputIterator</code>'s value type is convertible to a type in <code>OutputIterator</code>'s set of value types. </li>
</ul>
<h2><a class="anchor" name="Preconditions">
Preconditions</a></h2>
For the first version: <ul>
<li>
<code>[first1, last1)</code> is a valid range. </li>
<li>
<code>[first2, last2)</code> is a valid range. </li>
<li>
<code>[first1, last1)</code> is ordered in ascending order according to <code>operator&lt;</code>. That is, for every pair of iterators <code>i</code> and <code>j</code> in <code>[first1, last1)</code> such that <code>i</code> precedes <code>j</code>, <code>*j &lt; *i</code> is <code>false</code>. </li>
<li>
<code>[first2, last2)</code> is ordered in ascending order according to <code>operator&lt;</code>. That is, for every pair of iterators <code>i</code> and <code>j</code> in <code>[first2, last2)</code> such that <code>i</code> precedes <code>j</code>, <code>*j &lt; *i</code> is <code>false</code>. </li>
<li>
There is enough space to hold all of the elements being copied. More formally, the requirement is that <code>[result, result + n)</code> is a valid range, where <code>n</code> is the number of elements in the difference of the two input ranges. </li>
<li>
<code>[first1, last1)</code> and <code>[result, result + n)</code> do not overlap. </li>
<li>
<code>[first2, last2)</code> and <code>[result, result + n)</code> do not overlap. </li>
</ul>
For the second version: <ul>
<li>
<code>[first1, last1)</code> is a valid range. </li>
<li>
<code>[first2, last2)</code> is a valid range. </li>
<li>
<code>[first1, last1)</code> is ordered in ascending order according to <code>comp</code>. That is, for every pair of iterators <code>i</code> and <code>j</code> in <code>[first1, last1)</code> such that <code>i</code> precedes <code>j</code>, <code>comp(*j, *i)</code> is <code>false</code>. </li>
<li>
<code>[first2, last2)</code> is ordered in ascending order according to <code>comp</code>. That is, for every pair of iterators <code>i</code> and <code>j</code> in <code>[first2, last2)</code> such that <code>i</code> precedes <code>j</code>, <code>comp(*j, *i)</code> is <code>false</code>. </li>
<li>
There is enough space to hold all of the elements being copied. More formally, the requirement is that <code>[result, result + n)</code> is a valid range, where <code>n</code> is the number of elements in the difference of the two input ranges. </li>
<li>
<code>[first1, last1)</code> and <code>[result, result + n)</code> do not overlap. </li>
<li>
<code>[first2, last2)</code> and <code>[result, result + n)</code> do not overlap. </li>
</ul>
<h2><a class="anchor" name="Complexity">
Complexity</a></h2>
Linear. Zero comparisons if either <code>[first1, last1)</code> or <code>[first2, last2)</code> is empty, otherwise at most <code>2 * ((last1 - first1) + (last2 - first2)) - 1</code> comparisons. <h2><a class="anchor" name="Example">
Example</a></h2>
<div class="fragment"><pre class="fragment"><span class="keyword">inline</span> <span class="keywordtype">bool</span> lt_nocase(<span class="keywordtype">char</span> c1, <span class="keywordtype">char</span> c2) { <span class="keywordflow">return</span> tolower(c1) &lt; tolower(c2); }

<span class="keywordtype">int</span> main()
{
  <span class="keywordtype">int</span> A1[] = {1, 3, 5, 7, 9, 11};
  <span class="keywordtype">int</span> A2[] = {1, 1, 2, 3, 5, 8, 13};  
  <span class="keywordtype">char</span> A3[] = {<span class="charliteral">'a'</span>, <span class="charliteral">'b'</span>, <span class="charliteral">'b'</span>, <span class="charliteral">'B'</span>, <span class="charliteral">'B'</span>, <span class="charliteral">'f'</span>, <span class="charliteral">'g'</span>, <span class="charliteral">'h'</span>, <span class="charliteral">'H'</span>};
  <span class="keywordtype">char</span> A4[] = {<span class="charliteral">'A'</span>, <span class="charliteral">'B'</span>, <span class="charliteral">'B'</span>, <span class="charliteral">'C'</span>, <span class="charliteral">'D'</span>, <span class="charliteral">'F'</span>, <span class="charliteral">'F'</span>, <span class="charliteral">'H'</span> };

  <span class="keyword">const</span> <span class="keywordtype">int</span> N1 = <span class="keyword">sizeof</span>(A1) / <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>);
  <span class="keyword">const</span> <span class="keywordtype">int</span> N2 = <span class="keyword">sizeof</span>(A2) / <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>); 
  <span class="keyword">const</span> <span class="keywordtype">int</span> N3 = <span class="keyword">sizeof</span>(A3);
  <span class="keyword">const</span> <span class="keywordtype">int</span> N4 = <span class="keyword">sizeof</span>(A4);

  cout &lt;&lt; <span class="stringliteral">"Difference of A1 and A2: "</span>;
  <a class="code" href="group__set.html#g0851d1b8926c09e6f96cb10aac7cbdb4" title="set implementation">set_difference</a>(A1, A1 + N1, A2, A2 + N2,
                 ostream_iterator&lt;int&gt;(cout, <span class="stringliteral">" "</span>));
  cout &lt;&lt; endl 
       &lt;&lt; <span class="stringliteral">"Difference of A3 and A4: "</span>;
  <a class="code" href="group__set.html#g0851d1b8926c09e6f96cb10aac7cbdb4" title="set implementation">set_difference</a>(A3, A3 + N3, A4, A4 + N4, 
                   ostream_iterator&lt;char&gt;(cout, <span class="stringliteral">" "</span>),
                   lt_nocase);
  cout &lt;&lt; endl;
}
</pre></div> <p>
The output is <div class="fragment"><pre class="fragment">Difference of A1 and A2: 7 9 11 
Difference of A3 and A4: B B g H 
</pre></div> <h2><a class="anchor" name="Notes">
Notes</a></h2>
<a class="anchor" name="1"></a>[1] Even this is not a completely precise description, because the ordering by which the input ranges are sorted is permitted to be a strict weak ordering that is not a total ordering: there might be values <code>x</code> and <code>y</code> that are equivalent (that is, neither <code>x &lt; y</code> nor <code>y &lt; x</code>) but not equal. See the <a class="el" href="stldoc_LessThanComparable.html">LessThanComparable</a> requirements for a fuller discussion. The output range consists of those elements from <code>[first1, last1)</code> for which equivalent elements do not exist in <code>[first2, last2)</code>. Specifically, if the range <code>[first1, last1)</code> contains <code>m</code> elements that are equivalent to each other and the range <code>[first2, last2)</code> contains <code>n</code> elements from that equivalence class (where either <code>m</code> or <code>n</code> may be zero), then the output range contains the <em>last</em> <code>max(m - n, 0)</code> of these elements from <code>[first1, last1)</code>. Note that this precision is only important if elements can be equivalent but not equal. If you're using a total ordering (if you're using <code>strcmp</code>, for example, or if you're using ordinary arithmetic comparison on integers), then you can ignore this technical distinction: for a total ordering, equality and equivalence are the same. <h2><a class="anchor" name="See_also">
See also</a></h2>
<code><a class="el" href="stldoc_includes.html">includes</a></code>, <code><a class="el" href="stldoc_set_union.html">set_union</a></code>, <code><a class="el" href="stldoc_set_intersection.html">set_intersection</a></code>, <code><a class="el" href="stldoc_set_symmetric_difference.html">set_symmetric_difference</a></code>, <code><a class="el" href="stldoc_sort.html">sort</a></code> </div>

<!-- Begin Footer -->
</td></tr>
</table>
</div> <!-- content -->
<div class='footerdiv'>
    <div id='footersub'>
        <ul>
            <li><a href="http://www.adobe.com/go/gftray_foot_aboutadobe">Company</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_privacy_security">Online Privacy Policy</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_terms">Terms of Use</a>&nbsp;|&nbsp;</li>
    
            <li><a href="http://www.adobe.com/go/gftray_foot_contact_adobe">Contact Us</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_accessibility">Accessibility</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_report_piracy">Report Piracy</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_permissions_trademarks">Permissions &amp; Trademarks</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_product_license_agreements">Product License Agreements</a>&nbsp;|&nbsp;</li>
    
            <li><a href="http://www.adobe.com/go/gftray_foot_feedback">Send Feedback</a></li>
        </ul>
        <div>
            <p>Copyright &#169; 2006-2007 Adobe Systems Incorporated.</p>
            <p>Use of this website signifies your agreement to the <a href="http://www.adobe.com/go/gftray_foot_terms">Terms of Use</a> and <a href="http://www.adobe.com/go/gftray_foot_privacy_security">Online Privacy Policy</a>.</p>
            <p>Search powered by <a href="http://www.google.com/" target="new">Google</a></p>
        </div>
	</div>
</div>
<script type="text/javascript">
_uacct = "UA-396569-1";
urchinTracker();
</script>
</body>
</html>
